(()=>{var l=t=>{document.readyState==="interactive"||document.readyState==="complete"?t():document.addEventListener("DOMContentLoaded",t)};l(()=>{let t=window.innerWidth-document.body.clientWidth;document.querySelector("html").style.setProperty("--sgb-scroll-bar-width",t+"px")});function f(t){t.style.opacity="1",function o(){let e=parseFloat(t.style.opacity);t.style.opacity=`${e-.1}`,e-.1<0?t.style.display="none":requestAnimationFrame(o)}()}function g(t,o="block"){t.style.opacity="0",t.style.display=o,function e(){let a=parseFloat(t.style.opacity);(a+=.1)>1||(t.style.opacity=`${a}`,requestAnimationFrame(e))}()}function L(t){let o=t.getBoundingClientRect(),e=window.pageYOffset||document.documentElement.scrollTop;return o.top+e}function j(){return window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0}function p(t){return t.offsetWidth>0||t.offsetHeight>0}l(()=>{let t=document.querySelectorAll(".wp-block-sgb-tab .post-tab");[].forEach.call(t,(e,a)=>{let i="js-tab-id-"+a;e.classList.add(i);let s=e.getAttribute("data-active-color"),n=document.createElement("style");n.innerHTML=".post-tab."+i+" > label.tab-active { background: "+s+"}",document.body.appendChild(n)});let o=document.querySelectorAll(".post-tab > label");[].forEach.call(o,e=>{e.addEventListener("click",a=>{let i=e.closest(".wp-block-sgb-tab");if(i){let s=i.querySelectorAll(":scope > .post-tab > label");[].forEach.call(s,c=>{c.classList.remove("tab-active")}),e.classList.add("tab-active");let n=i.querySelectorAll(":scope > .post-tab__content");[].forEach.call(n,(c,d)=>{parseInt(e.getAttribute("class").replace("tab",""),10)-1===d?(c.classList.add("tab-active"),g(c)):(c.classList.remove("tab-active"),f(c))}),setTimeout(()=>{typeof jQuery<"u"&&(jQuery(".js-sng-slider").length>0&&jQuery(".js-sng-slider").slick("setPosition"),jQuery(".js-sng-slider-alt").length>0&&jQuery(".js-sng-slider-alt").slick("setPosition"),jQuery(".js-sng-post-slider").length>0&&jQuery(".js-sng-post-slider").slick("setPosition"))},100)}})})});l(()=>{let t=document.querySelectorAll("pre.js-sng-highlight code");[].forEach.call(t,o=>{hljs.highlightBlock(o)})});l(()=>{let t=document.querySelectorAll(".js-header-video");[].forEach.call(t,o=>{let e=o.getAttribute("data-src");e&&o.setAttribute("src",e)})});var _=()=>{typeof jQuery>"u"||(jQuery(".js-sng-post-slider").length>0&&jQuery(".js-sng-post-slider").slick(),jQuery(".js-sng-slider-alt").length>0&&jQuery(".js-sng-slider-alt").slick(),jQuery(".js-sng-slider").length>0&&jQuery(".js-sng-slider").slick({responsive:[{breakpoint:768,settings:{slidesToShow:1,slidesToScroll:1}}]}))};l(()=>{_()});var k=t=>{let o=document.querySelector("#toc_container"),e=o.querySelector(".toc_list"),i=`
    <dialog class="sgb-toc-dialog">
      <div class="sgb-toc-dialog__contents dfont">
        <div class="sgb-toc-dialog__header">
          <button class="sgb-toc-dialog__dismiss" aria-label="\u30C0\u30A4\u30A2\u30ED\u30B0\u3092\u9589\u3058\u308B">
            <span></span>
          </button>
          <p class="sgb-toc-dialog__title">${o.dataset.dialogTitle||"Table of Contents"}</p>
        </div>
        <div class="sgb-toc-dialog__list-wrap">
          <ul class="sgb-toc-dialog__list">
            ${e.innerHTML}
          </ul>
        </div>
      </p>
    </dialog>
  `;o.insertAdjacentHTML("beforeend",i);let s=document.querySelector(".sgb-toc-dialog"),n=document.querySelector(".sgb-toc-dialog__contents"),c=n.querySelectorAll("a"),d=document.querySelector(".sgb-toc-dialog__dismiss");t.addEventListener("click",r=>{r.preventDefault(),s.showModal()}),n.addEventListener("click",r=>{r.stopPropagation()}),s.addEventListener("click",r=>{s.close()}),d.addEventListener("click",r=>{s.close()}),c.forEach(r=>{r.addEventListener("click",()=>{s.close()})})};l(()=>{let t=document.querySelector(".js-toc-toggle");t&&t.addEventListener("click",s=>{let n=document.querySelector(".toc_list");if(n.offsetParent!==null){let c=t.getAttribute("data-open-toggle");t.innerHTML=c,f(n)}else{let c=t.getAttribute("data-close-toggle");t.innerHTML=c,g(n)}});let o=document.querySelectorAll(".js-smooth-scroll a:not(.js-toc-button):not(.js-no-scroll)"),e=document.querySelector(".js-toc-button"),a=document.querySelector("#toc_container");if(o.length){let s=document.querySelector("html");s&&(s.style.scrollBehavior="smooth")}e&&(e.dataset.openDialog==="true"&&typeof HTMLDialogElement=="function"?k(e):e.setAttribute("href","#toc_container")),e&&a&&window.addEventListener("scroll",s=>{(document.documentElement.scrollTop||document.body.scrollTop)>700?p(e)||sng.fadeIn(e):p(e)&&sng.fadeOut(e)},{passive:!0}),document.querySelector(".js-highlight-menu")&&window.addEventListener("scroll",s=>{let c=".entry-content h1, .entry-content h2, .entry-content h3, .entry-content h4, .entry-content h5",d=-1,r=-1;document.querySelectorAll(c).forEach((u,h)=>{let E=u.getAttribute("id"),T="#"+E,b=!1;if(document.querySelectorAll(".js-highlight-menu li a:not(.js-no-highlight)").forEach((S,M)=>{if(S.getAttribute("href")===T)return b=!0,!1}),!b)return!0;r++,L(u)<=j()+5&&(d=r)}),document.querySelectorAll(".js-highlight-menu li a:not(.js-no-highlight)").forEach((u,h)=>{u.classList.remove("active"),h===d&&u.classList.add("active")})},{passive:!0})});var P=sgb_client_options.site_url,y=t=>{if(sgb_client_options.is_logged_in)return;t.querySelectorAll(".js-sgb-content-block").forEach(e=>{navigator.sendBeacon("?rest_route=/sng/v1/cb/pv",JSON.stringify({postId:e.dataset.id})),e.querySelectorAll("a").forEach(i=>{i.addEventListener("click",s=>{navigator.sendBeacon("?rest_route=/sng/v1/cb/click",JSON.stringify({postId:e.dataset.id,url:i.href,label:i.innerText}))})})})};l(()=>{y(document)});var v=(t,o)=>Math.floor(Math.random()*(o-t+1)+t);l(()=>{document.querySelectorAll(".js-ab-test").forEach(async o=>{let e=o.dataset.aId,a=o.dataset.bId,i=parseInt(o.dataset.deliveryRate,10),s=v(1,100),n="";s<=i?n=e:n=a;let c=await fetch("?rest_route=/sng/v1/cb/block",{method:"POST",body:JSON.stringify({id:n})}),{html:d,css:r}=await c.json(),m="";r&&(m=`<style>${r}</style>`),m+=d,o.innerHTML=m,y(o)})});})();
